(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{373:function(e,t,a){},383:function(e,t,a){"use strict";a.r(t);var n=a(374),r=(a(375),a(377),a(0));function c(e){const t=r.useRef(null),a=r.useRef(null),c=r.useCallback(()=>{e.onChange&&a.current&&e.onChange(a.current.getValue())},[e.onChange]);return r.useEffect(()=>{if(t.current)return a.current=n.edit(t.current),a.current.getSession().setMode("ace/mode/json"),a.current.setTheme("ace/theme/dracula"),a.current.$blockScrolling=1/0,()=>{a.current&&(a.current.destroy(),a.current.off("change",c),a.current=null)}},[]),r.useEffect(()=>{if(a.current)return a.current&&a.current.on("change",c),()=>{a.current&&a.current.off("change",c)}},[e.onChange]),r.useEffect(()=>{a.current&&a.current.getValue()!==e.value&&a.current.setValue(e.value||"")},[e.value]),r.createElement("div",{ref:t,className:e.className,style:e.style})}var u=a(169),l=a(27),s=a(26),d=a(13);a(373);const o=d.d.Group;t.default=r.memo(()=>{const e=Object(l.o)(r.useCallback(e=>({data:e.state.data,id:e.state.id,option:e.option}),[])),t=Object(l.n)(),a=Object(l.l)(),n=r.useCallback(e=>{let t=JSON.stringify({},null,"\t");try{t=JSON.stringify(e,null,"\t")}catch(e){}return t},[]),i=r.useCallback(t=>{const n="static"===t?"delete":"new";a.dispatch(n,{id:e.id,property:"data"})},[a,e.id]),f=Object(u.a)(e=>{if(t)try{const a=JSON.parse(e);t({type:"data",data:a})}catch(e){}},300);if(!e||!t)return null;if(void 0===e.data)return null;const g="画布"===e.option.group,p=a.getBinded(e.id,"data");return r.createElement("div",{className:"data-panel"},g&&r.createElement(o,{value:p?"exp":"static",className:"data-panel-tool",onChange:i},r.createElement(d.d,{value:"static"},"静态"),r.createElement(d.d,{value:"exp"},"表达式")),p?r.createElement(s.b,{className:"data-expre",flag:`binded-${e.id}-data`,getFeatureById:a.getFeatureById,nodes:p.getChildren()}):r.createElement("div",{className:"data-static-panel"},r.createElement(c,{className:"json-editor",value:n(e.data),onChange:f})))})}}]);