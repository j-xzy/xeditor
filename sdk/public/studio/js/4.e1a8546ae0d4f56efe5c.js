(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{369:function(e,t,n){},370:function(e,t,n){"use strict";n.d(t,"a",function(){return a});const a={position:{name:"定位",type:"select",config:[{name:"绝对定位",value:"absolute"},{name:"相对定位",value:"relative"},{name:"窗口定位",value:"fixed"},{name:"静态定位",value:"static"}]},visibility:{name:"显示",type:"switch",config:{on:"visible",off:"hidden"}},display:{name:"元素类型",type:"select",config:[{name:"无",value:"none"},{name:"块元素",value:"block"},{name:"行内元素",value:"inline-block"},{name:"弹性元素",value:"flex"}]},float:{name:"浮动",type:"select",config:[{name:"无浮动",value:"none"},{name:"左浮动",value:"left"},{name:"右浮动",value:"right"}]},width:{name:"宽",type:"input"},height:{name:"高",type:"input"},zIndex:{name:"层级",type:"input"},margin:{name:"外边距",type:"input"},padding:{name:"内边距",type:"input"},top:{name:"上",type:"input"},left:{name:"左",type:"input"},right:{name:"右",type:"input"},bottom:{name:"下",type:"input"},flexDirection:{name:"弹性方向",type:"select",config:[{name:"水平",value:"row"},{name:"反向水平",value:"row-reverse"},{name:"垂直",value:"column"},{name:"反向垂直",value:"column-reverse"}]},justifyContent:{name:"主轴对齐",type:"select",config:[{name:"起始",value:"flex-start"},{name:"末尾",value:"flex-end"},{name:"中心",value:"center"},{name:"中间",value:"space-between"},{name:"环绕",value:"space-around"}]},alignItems:{name:"侧轴对齐",type:"select",config:[{name:"拉伸",value:"stretch"},{name:"中心",value:"center"},{name:"起始",value:"flex-start"},{name:"末尾",value:"flex-end"},{name:"基线",value:"baseline"}]},flex:{name:"flex",type:"input"},backgroundImage:{name:"背景图",type:"upload",binded:!1},backgroundSize:{name:"图片大小",type:"input"},backgroundColor:{name:"背景色",type:"color"}}},371:function(e,t,n){"use strict";var a=n(20),i=n(27),r=n(26),l=n(13),c=n(0);function o(e){return c.createElement("div",{className:"property-item"},c.createElement("span",{className:"property-name"},e.name,"："),c.createElement("div",{className:"property-content"},e.children))}n(369);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}n.d(t,"a",function(){return s});const p=l.d.Group,m=l.e.Option;function s(e){const t=Object(i.l)();return c.createElement("div",{className:"property-panel-wrapper"},function e(t,n){return c.createElement("div",{className:"property-panel"},Object.keys(t.state).map((i,s)=>{const d=t.dic[i];if(!d)return null;if("collapse"===d.type)return c.createElement(l.b,{defaultCollapse:!0,key:s,title:d.name,iconPosition:"right"},e({ftrId:t.ftrId,fullNames:[...t.fullNames,i],dispatch:t.dispatch,dic:d.items,state:t.state[i]},n));const f=`${t.fullNames.map(e=>e).join(".")}.${i}`;let y;return void 0!==t.ftrId&&(y=n.getBinded(t.ftrId,`${f}`)),c.createElement("div",{className:"property-item-wrapper",key:i},c.createElement(o,{name:d.name},y?c.createElement(r.b,{flag:`binded-${t.ftrId}-${f}`,getFeatureById:n.getFeatureById,nodes:y.getChildren()}):function(e,t,n){if("input"===e.type)return c.createElement(l.c,{value:t,onChange:e=>n(e.target.value)});if("slider"===e.type)return c.createElement(l.f,u({style:{width:"161px"},value:t},e.config,{onChange:n}));if("checkbox"===e.type)return e.config.map(e=>c.createElement(l.a,{key:e.name,checked:t.includes(e.value),onChange:a=>{if(a)n([...t,e.value]);else{const a=t.indexOf(e.value);if(a>-1){const e=[...t];e.splice(a,1),n(e)}}}},e.name));if("radio"===e.type)return c.createElement(p,{value:t,onChange:n},e.config.map(e=>c.createElement(l.d,{key:e.name,value:e.value},e.name)));if("select"===e.type)return c.createElement(l.e,{value:t,onChange:n},e.config.map(e=>c.createElement(m,{key:e.name,value:e.value},e.name)));if("switch"===e.type)return c.createElement(l.g,{checked:t===e.config.on,onChange:t=>{n(t?e.config.on:e.config.off)}});if("color"===e.type)return c.createElement("input",{type:"color",value:t,onChange:e=>n(e.target.value)});if("upload"===e.type){if(void 0===t||""===t||'""'===t||"''"===t||"url()"===t)return c.createElement(l.h,{label:"选择图片",onchange:async e=>{if(!e)return;window.commit("progress",!0);const t=new FormData;t.append("image",e[0],e[0].name);const i=await window.Post("/upload?id",{querys:{id:Object(a.h)("id")||""},body:t});if(window.commit("progress",!1),0===i.code)return l.i.error("图片上传失败");n(i.result.urls[0])}});let e=Object(a.e)(t);return e||(e=t),c.createElement("div",{className:"preview-image",style:{backgroundImage:`url(${e})`}},c.createElement("i",{className:"iconfont icon-close",onClick:()=>n("")}))}return null}(d,t.state[i],e=>t.dispatch({type:`${t.fullNames.map(e=>e).join("-")}-${i}`,data:e}))),!1!==d.binded&&"upload"!==d.type&&c.createElement("i",{title:"绑定",className:`iconfont icon-bind ${y?"binding":""}`,onClick:()=>y?n.dispatch("delete",{id:t.ftrId,property:`${f}`}):n.dispatch("new",{id:t.ftrId,property:`${f}`})}))}))}({ftrId:e.ftrId,fullNames:[e.type||""],dispatch:e.dispatch,dic:e.dic,state:e.state},t))}},382:function(e,t,n){"use strict";n.r(t);var a=n(5),i=n(0),r=n(371),l=n(370);t.default=i.memo(e=>{const t=Object(a.k)(i.useCallback(t=>({state:t.state[e.type],id:t.state.id,option:t.option}),[e.type])),n=Object(a.j)();if(!t||!n)return null;const c="style"===e.type?l.a:t.option.property;if(!c)return null;return i.createElement(r.a,{ftrId:t.id,dic:c,type:e.type,state:t.state,dispatch:e=>{const t=e.type.split("-")[1];let a=e.data;"backgroundImage"===t&&(a=`url(${a})`),n({type:e.type,data:a})}})})}}]);