import * as React from 'react';
import './style.styl';

interface IProps {
  onClick?: () => void;
  className?: string;
}

export const Eye = React.memo(RawEye, (pre, next) => pre.isClosed === next.isClosed && pre.className === next.className);

function RawEye(props: IProps & { isClosed: boolean; }) {
  const cls = typeof props.className === 'undefined' ? '' : props.className;

  if (props.isClosed) {
    return <ClosedEye onClick={props.onClick} className={cls} />;
  }
  return <OpendedEye onClick={props.onClick} className={cls} />;
}

function OpendedEye(props: IProps) {
  return (
    <svg onClick={props.onClick} className={`layer-eye ${props.className}`} width='18px' height='18px' viewBox='0 0 1024 1024'>
      <path fill='rgba(255,255,255, 0.7)' d='M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256zM512 694.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6C691.2 612.8 610.8 694.6 512 694.6zM512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6 0 58.8 47 106.6 104.6 106.6s104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8C540.6 512 512 483.4 512 448z' />
    </svg>
  );
}

function ClosedEye(props: IProps) {
  return (
    <svg onClick={props.onClick} className={`layer-eye ${props.className}`} width='18px' height='18px' viewBox='0 0 1024 1024'>
      <path fill='rgba(255,255,255, 0.7)' d='M505.046634 388.622018l107.71321 107.71321c0-3.474125 0-3.474125 0-6.949272 0-59.069327-45.169759-104.239086-104.239086-104.239086C508.521782 388.622018 508.521782 388.622018 505.046634 388.622018zM355.63779 416.419108l52.119031 52.120055c0 10.42442 0 17.373693 0 24.322965 0 59.068304 45.169759 104.238063 104.239086 104.238063 6.949272 0 13.898545 0 24.321942-3.475148l52.119031 52.120055c-24.321942 13.898545-48.644907 20.847817-76.441996 20.847817-97.289814 0-173.730787-76.441996-173.730787-173.730787C338.26512 465.064015 345.214393 440.742073 355.63779 416.419108zM164.534334 225.315652l79.916121 79.916121 13.898545 13.898545c-59.068304 45.169759-104.239086 104.238063-128.561028 173.730787 59.068304 152.882969 208.477148 260.59618 382.208958 260.59618 52.119031 0 104.239086-10.42442 152.882969-27.79709l13.898545 13.898545 100.763938 100.763938 45.169759-45.169759-615.008049-615.008049L164.534334 225.315652zM511.995907 319.130318c97.289814 0 173.730787 76.441996 173.730787 173.730787 0 20.847817-3.475148 45.169759-13.898545 62.543452l100.763938 100.763938c52.119031-45.170782 93.814666-100.763938 118.137631-163.30739-59.068304-152.883993-208.477148-260.597203-382.208958-260.597203-48.644907 0-93.814666 10.423397-138.985448 24.321942l76.441996 76.441996C466.826148 322.604442 491.14809 319.130318 511.995907 319.130318z' />
    </svg>
  );
}
